{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\majas\\\\OneDrive\\\\Desktop\\\\ReviewAndRatings-MERN-main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\majas\\\\OneDrive\\\\Desktop\\\\ReviewAndRatings-MERN-main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\majas\\\\OneDrive\\\\Desktop\\\\ReviewAndRatings-MERN-main\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\majas\\\\OneDrive\\\\Desktop\\\\ReviewAndRatings-MERN-main\\\\frontend\\\\src\\\\components\\\\UpdateReviewComponent.js\";\nimport { useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nfunction UpdateReviewComponent() {\n  var _useParams = useParams(),\n    productId = _useParams.productId,\n    reviewId = _useParams.reviewId;\n  var navigate = useNavigate();\n  var _useState = useState({\n      rating: 0,\n      comment: ''\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    reviewData = _useState2[0],\n    setReviewData = _useState2[1];\n  useEffect(function () {\n    // Fetch the review data by ID when the component mounts\n    axios.get(\"http://localhost:4000/api/reviews/\".concat(productId, \"/reviews/\").concat(reviewId)).then(function (res) {\n      var _res$data = res.data,\n        rating = _res$data.rating,\n        comment = _res$data.comment;\n      setReviewData({\n        rating: rating,\n        comment: comment\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, [productId, reviewId]);\n\n  // Handle form input changes\n  var handleInputChange = function handleInputChange(e) {\n    var _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value;\n    setReviewData(_objectSpread({}, reviewData, _defineProperty({}, name, value)));\n  };\n\n  // Handle form submission\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    // Send a PUT request to update the review\n    axios.put(\"http://localhost:4000/api/reviews/\".concat(productId, \"/reviews/\").concat(reviewId), reviewData).then(function (res) {\n      console.log('Review updated:', res.data);\n      // Redirect to the product page or review list page after updating\n      navigate(\"/user\");\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, \"Rating\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    name: \"rating\",\n    value: reviewData.rating,\n    onChange: handleInputChange,\n    min: \"1\",\n    max: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    name: \"comment\",\n    value: reviewData.comment,\n    onChange: handleInputChange,\n    rows: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Update Review\"))))));\n}\nexport default UpdateReviewComponent;","map":{"version":3,"names":["useEffect","useState","Button","Form","useParams","useNavigate","axios","UpdateReviewComponent","_useParams","productId","reviewId","navigate","_useState","rating","comment","_useState2","_slicedToArray","reviewData","setReviewData","get","concat","then","res","_res$data","data","catch","err","console","log","handleInputChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","preventDefault","put","React","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","controlId","Label","Control","type","onChange","min","max","as","rows","style","marginTop","variant"],"sources":["C:/Users/majas/OneDrive/Desktop/ReviewAndRatings-MERN-main/frontend/src/components/UpdateReviewComponent.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Form from 'react-bootstrap/Form'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction UpdateReviewComponent() {\r\n  const { productId, reviewId } = useParams()\r\n  const navigate = useNavigate()\r\n  const [reviewData, setReviewData] = useState({\r\n    rating: 0,\r\n    comment: '',\r\n  })\r\n\r\n  useEffect(() => {\r\n    // Fetch the review data by ID when the component mounts\r\n    axios\r\n      .get(`http://localhost:4000/api/reviews/${productId}/reviews/${reviewId}`)\r\n      .then((res) => {\r\n        const { rating, comment } = res.data\r\n        setReviewData({ rating, comment })\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [productId, reviewId])\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target\r\n    setReviewData({\r\n      ...reviewData,\r\n      [name]: value,\r\n    })\r\n  }\r\n\r\n  // Handle form submission\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    // Send a PUT request to update the review\r\n    axios\r\n      .put(\r\n        `http://localhost:4000/api/reviews/${productId}/reviews/${reviewId}`,\r\n        reviewData\r\n      )\r\n      .then((res) => {\r\n        console.log('Review updated:', res.data)\r\n        // Redirect to the product page or review list page after updating\r\n        navigate(`/user`)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  return (\r\n    <div className='container mt-5'>\r\n      <div className='row justify-content-center'>\r\n        <div className='col-md-6'>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId='rating'>\r\n              <Form.Label>Rating</Form.Label>\r\n              <Form.Control\r\n                type='number'\r\n                name='rating'\r\n                value={reviewData.rating}\r\n                onChange={handleInputChange}\r\n                min='1'\r\n                max='5'\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='comment'>\r\n              <Form.Label>Comment</Form.Label>\r\n              <Form.Control\r\n                as='textarea'\r\n                name='comment'\r\n                value={reviewData.comment}\r\n                onChange={handleInputChange}\r\n                rows='3'\r\n              />\r\n            </Form.Group>\r\n\r\n            <div className='text-center' style={{marginTop: \"20px\"}}>\r\n              <Button variant='primary' type='submit'>\r\n                Update Review\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdateReviewComponent\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}