{"ast":null,"code":"var _jsxFileName = \"B:\\\\sharaf\\\\ReviewAndRatings-MERN-main\\\\frontend\\\\src\\\\Pages\\\\AdminHome.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\nimport productImage from '../images/productImage.jpg'; // Import the image\nimport ReactStars from 'react-rating-star-with-type';\nimport Button from 'react-bootstrap/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserHome() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  useEffect(() => {\n    // Fetch products from the API when the component mounts\n    axios.get('http://localhost:4000/api/products') // Update the API endpoint as needed\n    .then(response => {\n      setProducts(response.data);\n    }).catch(error => {\n      console.error('Error fetching products:', error);\n    });\n  }, []);\n  useEffect(() => {\n    if (searchTerm.trim() === '') {\n      setFilteredProducts(products);\n    } else {\n      const filtered = products.filter(product => product.review.some(review => review.comment.toLowerCase().includes(searchTerm.toLowerCase())));\n      setFilteredProducts(filtered);\n    }\n  });\n  // Function to delete a review\n  const deleteReview = (productId, reviewId, comment) => {\n    if (window.confirm(`Are you sure you want to delete \"${comment}\"?`)) {\n      // Send a DELETE request to the API endpoint\n      axios.delete(`http://localhost:4000/api/reviews/${productId}/reviews/${reviewId}`).then(response => {\n        if (response.status === 200) {\n          // Review deleted successfully\n          console.log('Review deleted successfully');\n          alert('Data Deleted');\n          // You can perform additional actions here if needed\n\n          // Refresh the product list to remove the deleted review\n          axios.get('http://localhost:4000/api/products').then(response => {\n            setProducts(response.data);\n          }).catch(error => {\n            console.error('Error fetching products:', error);\n          });\n        } else {\n          // Error deleting the review\n          console.error('Error deleting the review');\n        }\n      }).catch(error => {\n        console.error('Error deleting the review:', error);\n      });\n    } else {\n      alert('Canceled');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), \"      \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: '18rem',\n            margin: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n            variant: \"top\",\n            src: productImage,\n            alt: product.name // Provide alt text for accessibility\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [\" \", product.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n            className: \"list-group-flush\",\n            children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Price: $\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n            className: \"list-group-flush\",\n            children: product.reviews.map((review, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(ReactStars, {\n                  style: {\n                    margin: '20px',\n                    paddingLeft: '60px'\n                  },\n                  value: review.rating,\n                  edit: false,\n                  activeColors: ['red', 'orange', '#FFCE00', '#9177FF', '#8568FC']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  children: [\" Comment: \", review.comment]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-danger\",\n                  onClick: () => deleteReview(product._id, review._id, review.comment),\n                  style: {\n                    marginLeft: '10px'\n                  } // Add margin to create space\n                  ,\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 21\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)\n      }, product._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(UserHome, \"Erni9CCVnYz5zeZPSLJLeZWpcYw=\");\n_c = UserHome;\nexport default UserHome;\nvar _c;\n$RefreshReg$(_c, \"UserHome\");","map":{"version":3,"names":["React","useEffect","useState","ListGroup","Card","axios","productImage","ReactStars","Button","jsxDEV","_jsxDEV","UserHome","_s","products","setProducts","searchTerm","setSearchTerm","filteredProducts","setFilteredProducts","get","then","response","data","catch","error","console","trim","filtered","filter","product","review","some","comment","toLowerCase","includes","deleteReview","productId","reviewId","window","confirm","delete","status","log","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","style","width","margin","Img","variant","src","alt","name","Body","Title","Text","description","Item","price","reviews","index","paddingLeft","value","rating","edit","activeColors","onClick","_id","marginLeft","_c","$RefreshReg$"],"sources":["B:/sharaf/ReviewAndRatings-MERN-main/frontend/src/Pages/AdminHome.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport Card from 'react-bootstrap/Card'\r\nimport axios from 'axios'\r\nimport productImage from '../images/productImage.jpg' // Import the image\r\nimport ReactStars from 'react-rating-star-with-type'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nfunction UserHome() {\r\n  const [products, setProducts] = useState([])\r\n  const [searchTerm,setSearchTerm] = useState('')\r\n  const [filteredProducts,setFilteredProducts] = useState([])\r\n  useEffect(() => {\r\n    // Fetch products from the API when the component mounts\r\n    axios\r\n      .get('http://localhost:4000/api/products') // Update the API endpoint as needed\r\n      .then((response) => {\r\n        setProducts(response.data)\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching products:', error)\r\n      })\r\n  }, [])\r\n  useEffect(() =>{\r\n    if(searchTerm.trim()===''){\r\n      setFilteredProducts(products)\r\n    }else{\r\n      const filtered = products.filter((product)=>\r\n      product.review.some((review)=>\r\n      review.comment.toLowerCase().includes(searchTerm.\r\n        toLowerCase())\r\n        )\r\n      )\r\n      setFilteredProducts(filtered)\r\n    }\r\n  })\r\n  // Function to delete a review\r\n  const deleteReview = (productId, reviewId, comment) => {\r\n    if (window.confirm(`Are you sure you want to delete \"${comment}\"?`)) {\r\n      // Send a DELETE request to the API endpoint\r\n      axios\r\n        .delete(\r\n          `http://localhost:4000/api/reviews/${productId}/reviews/${reviewId}`\r\n        )\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            // Review deleted successfully\r\n            console.log('Review deleted successfully')\r\n            alert('Data Deleted')\r\n            // You can perform additional actions here if needed\r\n\r\n            // Refresh the product list to remove the deleted review\r\n            axios\r\n              .get('http://localhost:4000/api/products')\r\n              .then((response) => {\r\n                setProducts(response.data)\r\n              })\r\n              .catch((error) => {\r\n                console.error('Error fetching products:', error)\r\n              })\r\n          } else {\r\n            // Error deleting the review\r\n            console.error('Error deleting the review')\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error deleting the review:', error)\r\n        })\r\n    } else {\r\n      alert('Canceled')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <div className = 'mb-4'\r\n></div>      <div className='row'>\r\n        {products.map((product) => (\r\n          <div key={product._id} className='col-md-3 mb-4'>\r\n            <Card style={{ width: '18rem', margin: '20px' }}>\r\n              {/* Use the imported image as the source */}\r\n              <Card.Img\r\n                variant='top'\r\n                src={productImage}\r\n                alt={product.name} // Provide alt text for accessibility\r\n              />\r\n              <Card.Body>\r\n                <Card.Title>{product.name}</Card.Title>\r\n                <Card.Text> {product.description}</Card.Text>\r\n              </Card.Body>\r\n              <ListGroup className='list-group-flush'>\r\n                <ListGroup.Item>Price: ${product.price}</ListGroup.Item>\r\n              </ListGroup>\r\n              <ListGroup className='list-group-flush'>\r\n                {/* <h5>Reviews:</h5> */}\r\n                {product.reviews.map((review, index) => (\r\n                  <div key={index}>\r\n                    <Card.Body>\r\n                      <ReactStars\r\n                        style={{ margin: '20px', paddingLeft: '60px' }}\r\n                        value={review.rating}\r\n                        edit={false}\r\n                        activeColors={[\r\n                          'red',\r\n                          'orange',\r\n                          '#FFCE00',\r\n                          '#9177FF',\r\n                          '#8568FC',\r\n                        ]}\r\n                      />\r\n                      <Card.Text> Comment: {review.comment}</Card.Text>\r\n                      <Button\r\n                        variant='outline-danger'\r\n                        onClick={() =>\r\n                          deleteReview(product._id, review._id, review.comment)\r\n                        }\r\n                        style={{ marginLeft: '10px' }} // Add margin to create space\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n                    </Card.Body>\r\n                  </div>\r\n                ))}\r\n              </ListGroup>\r\n            </Card>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserHome\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}